{% extends 'base.html.twig' %}

{% block title %}Démo - {{ organization.name }}{% endblock %}

{% block body %}
<div class="container-fluid">
    <!-- En-tête de la démo -->
    <div class="row bg-primary text-white py-3 mb-4">
        <div class="col-12">
            <div class="d-flex justify-content-between align-items-center">
                <div>
                    <h1 class="h3 mb-0">
                        <i class="fas fa-play-circle me-2"></i>
                        Démo : {{ organization.name }}
                    </h1>
                    <p class="mb-0 opacity-75">Environnement de démonstration</p>
                </div>
                <div class="text-end">
                    <span class="badge bg-warning text-dark fs-6">
                        <i class="fas fa-clock me-1"></i>
                        Démo Active
                    </span>
                </div>
            </div>
        </div>
    </div>

    <!-- Informations de la démo -->
    <div class="row mb-4">
        <div class="col-md-8">
            <div class="card">
                <div class="card-header">
                    <h5 class="card-title mb-0">
                        <i class="fas fa-building me-2"></i>
                        Informations de l'organisation
                    </h5>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-6">
                            <p><strong>Nom :</strong> {{ organization.name }}</p>
                            <p><strong>Email :</strong> {{ organization.email }}</p>
                            <p><strong>Téléphone :</strong> {{ organization.phone ?? 'Non renseigné' }}</p>
                        </div>
                        <div class="col-md-6">
                            <p><strong>Adresse :</strong> {{ organization.address ?? 'Non renseignée' }}</p>
                            <p><strong>Ville :</strong> {{ organization.city ?? 'Non renseignée' }}</p>
                            <p><strong>Code postal :</strong> {{ organization.postalCode ?? 'Non renseigné' }}</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-md-4">
            <div class="card">
                <div class="card-header">
                    <h5 class="card-title mb-0">
                        <i class="fas fa-chart-bar me-2"></i>
                        Statistiques
                    </h5>
                </div>
                <div class="card-body">
                    <div class="row text-center">
                        <div class="col-6">
                            <h4 class="text-primary">{{ properties|length }}</h4>
                            <small class="text-muted">Propriétés</small>
                        </div>
                        <div class="col-6">
                            <h4 class="text-success">{{ tenants|length }}</h4>
                            <small class="text-muted">Locataires</small>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Navigation de la démo -->
    <div class="row mb-4">
        <div class="col-12">
            <div class="card">
                <div class="card-header">
                    <h5 class="card-title mb-0">
                        <i class="fas fa-compass me-2"></i>
                        Explorer la démo
                    </h5>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-3 mb-3">
                            <a href="#properties" class="btn btn-outline-primary w-100">
                                <i class="fas fa-home me-2"></i>
                                Propriétés
                            </a>
                        </div>
                        <div class="col-md-3 mb-3">
                            <a href="#tenants" class="btn btn-outline-success w-100">
                                <i class="fas fa-users me-2"></i>
                                Locataires
                            </a>
                        </div>
                        <div class="col-md-3 mb-3">
                            <a href="#payments" class="btn btn-outline-warning w-100">
                                <i class="fas fa-euro-sign me-2"></i>
                                Paiements
                            </a>
                        </div>
                        <div class="col-md-3 mb-3">
                            <a href="#maintenance" class="btn btn-outline-info w-100">
                                <i class="fas fa-tools me-2"></i>
                                Maintenance
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Contenu de la démo -->
    <div class="row">
        <!-- Propriétés -->
        <div class="col-md-6 mb-4">
            <div class="card" id="properties">
                <div class="card-header">
                    <h5 class="card-title mb-0">
                        <i class="fas fa-home me-2"></i>
                        Propriétés ({{ properties|length }})
                    </h5>
                </div>
                <div class="card-body">
                    {% if properties|length > 0 %}
                        {% for property in properties %}
                            <div class="border-bottom pb-2 mb-2">
                                <h6 class="mb-1">{{ property.name }}</h6>
                                <small class="text-muted">{{ property.address }}</small>
                                <div class="mt-1">
                                    <span class="badge bg-secondary">{{ property.type }}</span>
                                    <span class="badge bg-info">{{ property.status }}</span>
                                </div>
                            </div>
                        {% endfor %}
                    {% else %}
                        <p class="text-muted">Aucune propriété dans cette démo.</p>
                    {% endif %}
                </div>
            </div>
        </div>

        <!-- Locataires -->
        <div class="col-md-6 mb-4">
            <div class="card" id="tenants">
                <div class="card-header">
                    <h5 class="card-title mb-0">
                        <i class="fas fa-users me-2"></i>
                        Locataires ({{ tenants|length }})
                    </h5>
                </div>
                <div class="card-body">
                    {% if tenants|length > 0 %}
                        {% for tenant in tenants %}
                            <div class="border-bottom pb-2 mb-2">
                                <h6 class="mb-1">{{ tenant.firstName }} {{ tenant.lastName }}</h6>
                                <small class="text-muted">{{ tenant.email }}</small>
                                <div class="mt-1">
                                    <span class="badge bg-success">{{ tenant.status }}</span>
                                </div>
                            </div>
                        {% endfor %}
                    {% else %}
                        <p class="text-muted">Aucun locataire dans cette démo.</p>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>

    <!-- Footer de la démo -->
    <div class="row mt-5">
        <div class="col-12">
            <div class="card bg-light">
                <div class="card-body text-center">
                    <h5 class="card-title">
                        <i class="fas fa-info-circle me-2"></i>
                        À propos de cette démo
                    </h5>
                    <p class="card-text">
                        Cette démo vous permet d'explorer les fonctionnalités de LOKAPRO
                        avec des données d'exemple.
                        <br>
                        <strong>Sous-domaine :</strong> {{ subdomain }} |
                        <strong>URL :</strong> {{ demo_url }}
                    </p>
                    <div class="mt-3">
                        <a href="#" class="btn btn-primary me-2">
                            <i class="fas fa-rocket me-1"></i>
                            Commencer l'essai gratuit
                        </a>
                        <a href="#" class="btn btn-outline-secondary">
                            <i class="fas fa-question-circle me-1"></i>
                            En savoir plus
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
.demo-header {
    background: linear-gradient(135deg, #007bff 0%, #0056b3 100%);
}

.demo-badge {
    animation: pulse 2s infinite;
}

@keyframes pulse {
    0% { opacity: 1; }
    50% { opacity: 0.7; }
    100% { opacity: 1; }
}
</style>
{% endblock %}
